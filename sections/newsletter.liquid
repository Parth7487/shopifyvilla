{% comment %}
  Newsletter Section
  Two-column layout with text and newsletter form
{% endcomment %}

<section class="newsletter-section" id="newsletter-{{ section.id }}" style="
  background-color: {{ section.settings.background_color }};
  padding-top: {{ section.settings.padding_top }}px;
  padding-bottom: {{ section.settings.padding_bottom }}px;
">
  <div class="newsletter-container">
    <div class="newsletter-grid" style="
      grid-template-columns: {{ section.settings.layout == 'text-left' ? '1fr 1fr' : '1fr 1fr' }};
      gap: {{ section.settings.grid_gap }}px;
    ">
      {% if section.settings.layout == 'text-left' %}
        {% render 'newsletter-content', section: section %}
        {% render 'newsletter-image', section: section %}
      {% else %}
        {% render 'newsletter-image', section: section %}
        {% render 'newsletter-content', section: section %}
      {% endif %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Newsletter",
  "tag": "section",
  "class": "section-newsletter",
  "settings": [
    {
      "type": "header",
      "content": "Section Settings"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#ffffff"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "Padding Top",
      "min": 0,
      "max": 200,
      "step": 10,
      "unit": "px",
      "default": 80
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "Padding Bottom",
      "min": 0,
      "max": 200,
      "step": 10,
      "unit": "px",
      "default": 80
    },
    {
      "type": "select",
      "id": "layout",
      "label": "Layout",
      "options": [
        { "value": "text-left", "label": "Text Left, Image Right" },
        { "value": "text-right", "label": "Image Left, Text Right" }
      ],
      "default": "text-left"
    },
    {
      "type": "range",
      "id": "grid_gap",
      "label": "Grid Gap",
      "min": 24,
      "max": 128,
      "step": 8,
      "unit": "px",
      "default": 64
    },
    {
      "type": "header",
      "content": "Text Content"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Mediterranean Dream"
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading Color",
      "default": "#1c1917"
    },
    {
      "type": "range",
      "id": "heading_size",
      "label": "Heading Size",
      "min": 32,
      "max": 96,
      "step": 4,
      "unit": "px",
      "default": 64
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description",
      "default": "Bring the warmth of the Mediterranean into your home"
    },
    {
      "type": "color",
      "id": "description_color",
      "label": "Description Color",
      "default": "#78716c"
    },
    {
      "type": "range",
      "id": "description_size",
      "label": "Description Size",
      "min": 14,
      "max": 24,
      "step": 1,
      "unit": "px",
      "default": 18
    },
    {
      "type": "header",
      "content": "Newsletter Form"
    },
    {
      "type": "text",
      "id": "form_heading",
      "label": "Form Heading",
      "default": "Stay Updated"
    },
    {
      "type": "textarea",
      "id": "form_subheading",
      "label": "Form Subheading",
      "default": "Subscribe to our newsletter for exclusive offers"
    },
    {
      "type": "text",
      "id": "placeholder_text",
      "label": "Email Placeholder",
      "default": "Enter your email"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button Text",
      "default": "Subscribe"
    },
    {
      "type": "color",
      "id": "input_bg_color",
      "label": "Input Background Color",
      "default": "#fafaf9"
    },
    {
      "type": "color",
      "id": "input_border_color",
      "label": "Input Border Color",
      "default": "#d4d4d4"
    },
    {
      "type": "color",
      "id": "input_text_color",
      "label": "Input Text Color",
      "default": "#1c1917"
    },
    {
      "type": "color",
      "id": "button_bg_color",
      "label": "Button Background Color",
      "default": "#1c1917"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Button Text Color",
      "default": "#ffffff"
    },
    {
      "type": "text",
      "id": "gdpr_text",
      "label": "GDPR Checkbox Text",
      "default": "I agree to receive marketing emails"
    },
    {
      "type": "header",
      "content": "Image Settings"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    },
    {
      "type": "select",
      "id": "image_position",
      "label": "Image Position",
      "options": [
        { "value": "center", "label": "Center" },
        { "value": "top", "label": "Top" },
        { "value": "bottom", "label": "Bottom" }
      ],
      "default": "center"
    }
  ],
  "presets": [
    {
      "name": "Newsletter"
    }
  ]
}
{% endschema %}

<style>
  .newsletter-section {
    width: 100%;
  }

  .newsletter-container {
    max-width: 1280px;
    margin: 0 auto;
    padding: 0 20px;
  }

  .newsletter-grid {
    display: grid;
    align-items: center;
  }

  @media (max-width: 1024px) {
    .newsletter-grid {
      grid-template-columns: 1fr !important;
    }
  }
</style>

