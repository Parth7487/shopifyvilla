{% comment %}
  Trust Badges Section
  Displays trust indicators with icons and customizable text
{% endcomment %}

<section class="trust-badges-section" id="trust-{{ section.id }}" style="
  background-color: {{ section.settings.background_color }};
  padding-top: {{ section.settings.padding_top }}px;
  padding-bottom: {{ section.settings.padding_bottom }}px;
">
  <div class="trust-badges-container">
    {% if section.settings.heading != blank %}
      <div class="trust-badges-header" style="text-align: {{ section.settings.text_alignment }};">
        <h2 class="trust-badges-heading" style="
          color: {{ section.settings.heading_color }};
          font-size: {{ section.settings.heading_size }}px;
        ">
          {{ section.settings.heading }}
        </h2>
        {% if section.settings.description != blank %}
          <p class="trust-badges-description" style="
            color: {{ section.settings.description_color }};
            font-size: {{ section.settings.description_size }}px;
          ">
            {{ section.settings.description }}
          </p>
        {% endif %}
      </div>
    {% endif %}

    <div class="trust-badges-grid" style="
      grid-template-columns: repeat({{ section.settings.badges_per_row }}, 1fr);
      gap: {{ section.settings.grid_gap }}px;
    ">
      {% for block in section.blocks %}
        <div class="trust-badge" {{ block.shopify_attributes }}>
          <div class="trust-badge-icon" style="
            background-color: {{ block.settings.icon_bg_color }};
            border-color: {{ block.settings.icon_border_color }};
            width: {{ block.settings.icon_size }}px;
            height: {{ block.settings.icon_size }}px;
          ">
            {% if block.settings.icon_type == 'custom' and block.settings.custom_icon != blank %}
              <img src="{{ block.settings.custom_icon | image_url: width: 56 }}" alt="{{ block.settings.title }}">
            {% else %}
              {% case block.settings.icon_type %}
                {% when 'leaf' %}
                  <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 2C8 2 4 4 4 8c0 4 4 8 8 8s8-4 8-8c0-4-4-6-8-6z"/>
                    <path d="M12 2v20"/>
                  </svg>
                {% when 'truck' %}
                  <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M1 3h15v13H1zM16 8h4l3 3v5h-7V8z"/>
                    <circle cx="5.5" cy="18.5" r="2.5"/>
                    <circle cx="18.5" cy="18.5" r="2.5"/>
                  </svg>
                {% when 'rotate' %}
                  <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2"/>
                  </svg>
                {% when 'check' %}
                  <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M20 6L9 17l-5-5"/>
                  </svg>
                {% when 'lock' %}
                  <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
                    <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                  </svg>
              {% endcase %}
            {% endif %}
          </div>
          
          {% if block.settings.title != blank %}
            <h4 class="trust-badge-title" style="
              color: {{ block.settings.title_color }};
              font-size: {{ block.settings.title_size }}px;
            ">
              {{ block.settings.title }}
            </h4>
          {% endif %}
          
          {% if block.settings.description != blank %}
            <p class="trust-badge-description" style="
              color: {{ block.settings.description_color }};
              font-size: {{ block.settings.description_size }}px;
            ">
              {{ block.settings.description }}
            </p>
          {% endif %}
        </div>
      {% endfor %}
    </div>
  </div>
</section>

<style>
  .trust-badges-section {
    width: 100%;
  }

  .trust-badges-container {
    max-width: 1280px;
    margin: 0 auto;
    padding: 0 20px;
  }

  .trust-badges-header {
    margin-bottom: 48px;
  }

  .trust-badges-heading {
    font-weight: 300;
    margin-bottom: 16px;
    line-height: 1.2;
  }

  .trust-badges-description {
    font-weight: 300;
    line-height: 1.6;
    max-width: 600px;
    margin: 0 auto;
  }

  .trust-badges-grid {
    display: grid;
  }

  .trust-badge {
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 16px;
  }

  .trust-badge-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    border: 1px solid;
    color: #f5f5f4;
  }

  .trust-badge-icon svg {
    width: 28px;
    height: 28px;
  }

  .trust-badge-title {
    font-weight: 300;
    margin: 0;
    line-height: 1.3;
  }

  .trust-badge-description {
    font-weight: 300;
    line-height: 1.6;
    margin: 0;
  }

  @media (max-width: 768px) {
    .trust-badges-grid {
      grid-template-columns: repeat(2, 1fr) !important;
    }
  }

  @media (max-width: 480px) {
    .trust-badges-grid {
      grid-template-columns: 1fr !important;
    }
  }
</style>

{% schema %}
{
  "name": "Trust Badges",
  "tag": "section",
  "class": "section-trust-badges",
  "settings": [
    {
      "type": "header",
      "content": "Section Settings"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#fafaf9"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "Padding Top",
      "min": 0,
      "max": 200,
      "step": 10,
      "unit": "px",
      "default": 64
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "Padding Bottom",
      "min": 0,
      "max": 200,
      "step": 10,
      "unit": "px",
      "default": 64
    },
    {
      "type": "header",
      "content": "Header Settings"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Why Choose Us"
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading Color",
      "default": "#1c1917"
    },
    {
      "type": "range",
      "id": "heading_size",
      "label": "Heading Size",
      "min": 24,
      "max": 64,
      "step": 4,
      "unit": "px",
      "default": 32
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description"
    },
    {
      "type": "color",
      "id": "description_color",
      "label": "Description Color",
      "default": "#78716c"
    },
    {
      "type": "range",
      "id": "description_size",
      "label": "Description Size",
      "min": 14,
      "max": 20,
      "step": 1,
      "unit": "px",
      "default": 16
    },
    {
      "type": "select",
      "id": "text_alignment",
      "label": "Text Alignment",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "center", "label": "Center" },
        { "value": "right", "label": "Right" }
      ],
      "default": "center"
    },
    {
      "type": "header",
      "content": "Grid Settings"
    },
    {
      "type": "range",
      "id": "badges_per_row",
      "label": "Badges Per Row",
      "min": 1,
      "max": 4,
      "step": 1,
      "default": 4
    },
    {
      "type": "range",
      "id": "grid_gap",
      "label": "Grid Gap",
      "min": 16,
      "max": 64,
      "step": 4,
      "unit": "px",
      "default": 32
    }
  ],
  "blocks": [
    {
      "type": "badge",
      "name": "Trust Badge",
      "settings": [
        {
          "type": "header",
          "content": "Icon Settings"
        },
        {
          "type": "select",
          "id": "icon_type",
          "label": "Icon Type",
          "options": [
            { "value": "leaf", "label": "Leaf" },
            { "value": "truck", "label": "Truck" },
            { "value": "rotate", "label": "Rotate/Return" },
            { "value": "check", "label": "Check" },
            { "value": "lock", "label": "Lock" },
            { "value": "custom", "label": "Custom Image" }
          ],
          "default": "leaf"
        },
        {
          "type": "image_picker",
          "id": "custom_icon",
          "label": "Custom Icon Image",
          "info": "Used when Icon Type is set to Custom Image"
        },
        {
          "type": "color",
          "id": "icon_bg_color",
          "label": "Icon Background Color",
          "default": "#1c1917"
        },
        {
          "type": "color",
          "id": "icon_border_color",
          "label": "Icon Border Color",
          "default": "#44403c"
        },
        {
          "type": "range",
          "id": "icon_size",
          "label": "Icon Size",
          "min": 48,
      "max": 96,
      "step": 4,
      "unit": "px",
      "default": 64
        },
        {
          "type": "header",
          "content": "Text Settings"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Made in Europe"
        },
        {
          "type": "color",
          "id": "title_color",
          "label": "Title Color",
          "default": "#1c1917"
        },
        {
          "type": "range",
          "id": "title_size",
          "label": "Title Size",
          "min": 14,
          "max": 32,
          "step": 1,
          "unit": "px",
          "default": 18
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Description",
          "default": "Handcrafted with care"
        },
        {
          "type": "color",
          "id": "description_color",
          "label": "Description Color",
          "default": "#78716c"
        },
        {
          "type": "range",
          "id": "description_size",
          "label": "Description Size",
          "min": 12,
          "max": 18,
          "step": 1,
          "unit": "px",
          "default": 14
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Trust Badges",
      "blocks": [
        {
          "type": "badge",
          "settings": {
            "icon_type": "leaf",
            "title": "Made in Europe",
            "description": "Handcrafted with care"
          }
        },
        {
          "type": "badge",
          "settings": {
            "icon_type": "truck",
            "title": "Fast Delivery",
            "description": "3-5 day shipping"
          }
        },
        {
          "type": "badge",
          "settings": {
            "icon_type": "rotate",
            "title": "Easy Returns",
            "description": "14-day guarantee"
          }
        },
        {
          "type": "badge",
          "settings": {
            "icon_type": "check",
            "title": "Norwegian Shop",
            "description": "Trusted quality"
          }
        }
      ]
    }
  ]
}
{% endschema %}

